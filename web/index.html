<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SnapShare Go</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <div class="app">
      <header>
        <h1><span>Snap</span>Share</h1>
        <p>LAN File Sharing ‚Ä¢ Instant & Private</p>
        <div
          class="url-box"
          id="urlBox"
          onclick="copyUrl()"
          title="Click to copy URL"
        >
          <span id="shareUrl">Loading...</span>
          <span class="copy-icon">üìã</span>
        </div>
      </header>
      <div class="device-area" id="deviceArea">
        <div class="me-ring"></div>
        <div class="me" onclick="openSharedUpload()">
          <div class="avatar" id="meIcon"></div>
          <div class="label" id="meName"></div>
          <div class="sublabel">You</div>
        </div>
      </div>
      <div class="empty-state" id="emptyState">
        <div class="device-count" id="deviceCount">0 devices online</div>
        <p class="muted">Share the URL above to start transferring files</p>
      </div>
    </div>
    <div class="shared-bar" id="sharedBar">
      <button
        class="shared-toggle"
        onclick="openSharedUpload()"
        title="Upload files to shared space"
      >
        ‚¨ÜÔ∏è Upload File
      </button>
    </div>
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal">
        <h2>Send file to</h2>
        <div class="peer-target" id="modalIcon"></div>
        <div class="peer-name" id="modalName"></div>
        <div class="drop-area" id="modalDropArea">
          <div class="drop-icon">üìÇ</div>
          <strong>Drag & Drop files here</strong>
          <p style="margin-top: 0.5rem; font-size: 0.85rem; opacity: 0.8">
            or click to browse
          </p>
        </div>
        <input type="file" id="modalFileInput" multiple style="display: none" />
        <div class="transfer-progress" id="transferProgress">
          <div class="transfer-bar">
            <div class="transfer-fill" id="transferFill"></div>
          </div>
          <div
            id="transferText"
            style="
              font-size: 0.85rem;
              color: var(--text);
              margin-top: 0.5rem;
              font-weight: 500;
            "
          >
            <span id="transferPercent">0%</span> ‚Ä¢
            <span id="transferStatus">Preparing...</span>
          </div>
        </div>
        <button class="modal-btn btn-ghost" onclick="closeModal()">
          Cancel
        </button>
      </div>
    </div>
    <div class="modal-overlay" id="sharedOverlay">
      <div class="modal">
        <h2>üìÇ Shared Space</h2>
        <p
          style="
            color: var(--muted);
            font-size: 0.85rem;
            margin-top: -1rem;
            margin-bottom: 1.5rem;
          "
        >
          Anyone on the network can see these files
        </p>
        <div class="drop-area" id="sharedDropArea">
          <strong>Tap to Upload</strong>
          <p style="margin-top: 0.3rem; font-size: 0.75rem; opacity: 0.7">
            or drag files here
          </p>
        </div>
        <input
          type="file"
          id="sharedFileInput"
          multiple
          style="display: none"
        />
        <div class="transfer-progress" id="sharedProgress">
          <div class="transfer-bar">
            <div class="transfer-fill" id="sharedFill"></div>
          </div>
          <p id="sharedText" style="font-size: 0.8rem; margin-top: 0.5rem">
            <span id="sharedPercent">0%</span> ‚Ä¢ <span id="sharedStatus"></span>
          </p>
        </div>
        <button class="modal-btn btn-ghost" onclick="closeSharedOverlay()">
          Close
        </button>
      </div>
    </div>

    <div class="notif" id="notif">
      <div class="file-chip" style="margin-bottom: 1rem; max-width: 100%">
        <span class="file-icon">üéÅ</span>
        <div class="file-info">
          <span class="name" id="notifTitle">New File Received</span>
          <span class="size" id="notifSub">filename.ext</span>
        </div>
      </div>
      <button class="modal-btn btn-accent" onclick="downloadNotifFile()">
        Download
      </button>
    </div>
    <div class="toast" id="toast">Copied to clipboard!</div>

    <script src="/app.js"></script>
  </body>
</html>
